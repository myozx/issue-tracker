{"version":3,"file":"server.js","mappings":"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","sources":["webpack://issue-tracker-ui/./server/render.jsx","webpack://issue-tracker-ui/./server/template.js","webpack://issue-tracker-ui/./src/About.jsx","webpack://issue-tracker-ui/./src/Contents.jsx","webpack://issue-tracker-ui/./src/DateInput.jsx","webpack://issue-tracker-ui/./src/IssueAddNavItem.jsx","webpack://issue-tracker-ui/./src/IssueDetail.jsx","webpack://issue-tracker-ui/./src/IssueEdit.jsx","webpack://issue-tracker-ui/./src/IssueFilter.jsx","webpack://issue-tracker-ui/./src/IssueList.jsx","webpack://issue-tracker-ui/./src/IssueReport.jsx","webpack://issue-tracker-ui/./src/IssueTable.jsx","webpack://issue-tracker-ui/./src/NavBar.jsx","webpack://issue-tracker-ui/./src/NotFound.jsx","webpack://issue-tracker-ui/./src/NumInput.jsx","webpack://issue-tracker-ui/./src/Page.jsx","webpack://issue-tracker-ui/./src/Search.jsx","webpack://issue-tracker-ui/./src/SignInNavItem.jsx","webpack://issue-tracker-ui/./src/TextInput.jsx","webpack://issue-tracker-ui/./src/Toast.jsx","webpack://issue-tracker-ui/./src/UserContext.js","webpack://issue-tracker-ui/./src/color.js","webpack://issue-tracker-ui/./src/graphQLFetch.js","webpack://issue-tracker-ui/./src/routes.js","webpack://issue-tracker-ui/./src/store.js","webpack://issue-tracker-ui/./src/withToast.jsx","webpack://issue-tracker-ui/./webpack.config.js","webpack://issue-tracker-ui/external \"dotenv\"","webpack://issue-tracker-ui/external \"express\"","webpack://issue-tracker-ui/external \"http-proxy-middleware\"","webpack://issue-tracker-ui/external \"isomorphic-fetch\"","webpack://issue-tracker-ui/external \"path\"","webpack://issue-tracker-ui/external \"react\"","webpack://issue-tracker-ui/external \"react-bootstrap\"","webpack://issue-tracker-ui/external \"react-dom/server\"","webpack://issue-tracker-ui/external \"react-router-bootstrap\"","webpack://issue-tracker-ui/external \"react-router-dom\"","webpack://issue-tracker-ui/external \"react-select/async\"","webpack://issue-tracker-ui/external \"serialize-javascript\"","webpack://issue-tracker-ui/external \"url-search-params-polyfill\"","webpack://issue-tracker-ui/external \"uuid\"","webpack://issue-tracker-ui/external \"webpack\"","webpack://issue-tracker-ui/external \"webpack-dev-middleware\"","webpack://issue-tracker-ui/external \"webpack-hot-middleware\"","webpack://issue-tracker-ui/external \"webpack-node-externals\"","webpack://issue-tracker-ui/webpack/bootstrap","webpack://issue-tracker-ui/webpack/runtime/compat get default export","webpack://issue-tracker-ui/webpack/runtime/define property getters","webpack://issue-tracker-ui/webpack/runtime/hasOwnProperty shorthand","webpack://issue-tracker-ui/webpack/runtime/make namespace object","webpack://issue-tracker-ui/./server/uiserver.js"],"sourcesContent":["import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter, matchPath } from 'react-router-dom';\n\nimport template from './template.js';\nimport Page from '../src/Page.jsx';\nimport routes from '../src/routes.js';\nimport store from '../src/store.js';\n\nasync function render(req, res) {\n  /**\n   * Serves as an express middleware for all the urls in the ui server.\n   * Matches the request path with the ones in routes.js.\n   * Fetches data from api server, and saves it in global \"store\" object.\n   * Converts the element to markup string and sends it to the client.\n   */\n\n  // -------- ui server fetchs data from the api server ----------\n\n  // matchPath(): Returns the \"match\" object { params: '...' } and null if the\n  // path doesn't match.\n  // https://reactrouter.com/web/api/matchPath\n  const activeRoute = routes.find(route => matchPath(req.path, route));\n\n  let initialData;\n  if (activeRoute && activeRoute.component.fetchData) {\n    // get the match obj to feed it to fetchData()\n    const match = matchPath(req.path, activeRoute);\n\n    // get the search query string\n    const index = req.path.indexOf('?');\n    const search = index !== -1 ? req.path.substr(index) : null;\n\n    // fetch data and store it in initialData.\n    initialData = await activeRoute.component.fetchData(match, search, null);\n  }\n\n  const userData = await Page.fetchData(req.headers.cookie);\n\n  store.initialData = initialData;\n  store.userData = userData;\n\n  // ------- render the routed element to markup -----------------\n\n  // this object signfies any redirects with the help of StaticRouter\n  const context = {};\n\n  // StaticRouter renders one particular component based on its location props\n  const element = (\n    <StaticRouter location={req.url} context={context}>\n      <Page />\n    </StaticRouter>\n  );\n\n  // create a markup of the component without any event handlers\n  const body = ReactDOMServer.renderToString(element);\n\n  // ------ send resource to the client ------------\n\n  if (context.url) {\n    res.redirect(301, context.url);\n  } else {\n    // send the fetched data alongside the markup\n    res.send(template(body, initialData, userData));\n  }\n}\n\nexport default render;\n","import serialize from 'serialize-javascript';\n\nexport default function template(body, initialData, userData) {\n  /**\n   * Creat a html template for server-side rendering.\n   * Params - body: markup string from ReactDOMServer.renderToString()\n   *          data: fetched data object from the graphql api\n   */\n  return `<!DOCTYPE HTML>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Pro MERN Stack</title>\n<link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\n<link rel=\"stylesheet\" href=\"/style.css\" >\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<style>\ntable.table-hover tr {cursor: pointer;}\n.panel-title a {display: block; width: 100%; cursor: pointer;}\n.footer {position: absolute; bottom: 0px; width: 100%;}\n</style>\n</head>\n<body>\n<!-- Page generated from template. -->\n<div id=\"contents\">${body}</div>\n<script>\n  window.__INITIAL_DATA__ = ${serialize(initialData)}\n  window.__USER_DATA__ = ${serialize(userData)}\n</script>\n<script src=\"/env.js\"></script>\n<script src=\"/vendor.bundle.js\"></script>\n<script src=\"/app.bundle.js\"></script>\n</body>\n</html>\n`;\n}\n","import React from 'react';\nimport store from './store.js';\nimport graphQLFetch from './graphQLFetch.js';\n\nexport default class About extends React.Component {\n  static async fetchData() {\n    const data = graphQLFetch('query{about}');\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const apiAbout = store.initialData ? store.initialData.about : null;\n    delete store.initialData;\n\n    this.state = {\n      apiAbout,\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      apiAbout,\n    } = this.state;\n    if (apiAbout == null) {\n      const data = await About.fetchData();\n      this.setState({\n        apiAbout: data.about,\n      });\n    }\n  }\n\n  render() {\n    const {\n      apiAbout,\n    } = this.state;\n    return (\n      <div className=\"text-center container\">\n        <div className=\"col-md-8 col-md-offset-2\">\n          <h3>Issue Tracker Application</h3>\n          <hr />\n          <p className=\"text-muted\">\n            An issue-tracking app which assists team members of a project\n            to stay organized with the issues or tasks\n            towards the completion\n            of them. Each member or the project leader could perform\n            CRUD operations on the list of issues during the\n            development process. Although reading operation on the list\n            of issues can be read is not restricted,\n            the remaining operations such as creating, updating and\n            deleting the data are only allowed to the authenticated\n            and authorized users.\n            <br />\n            <br />\n            The application is part of a coursework from the book:\n            <br />\n            <strong>\n              {/* eslint-disable-next-line */}\n              <a href=\"https://books.google.com.mm/books/about/Pro_MERN_Stack.html?id=TayXDwAAQBAJ&source=kp_book_description&redir_esc=y\">\n                Pro MERN Stack: Full Stack Web App Development 2nd ed.\n                by Vasan Subramanian\n              </a>\n            </strong>\n          </p>\n          <hr />\n          <p className=\"text-muted\">{apiAbout}</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport routes from './routes.js';\n\n// contents of the pages below the naviagtion bar\nexport default function Contents() {\n  return (\n    <Switch>\n      <Redirect exact from=\"/\" to=\"/issues\" />\n      {/* <Route path={} component={} /> */}\n      {routes.map(attrs => (\n        <Route {...attrs} key={attrs.path} />\n      ))}\n    </Switch>\n  );\n}\n","import React from 'react';\n\n// from Date to 'yyyy-mm-dd'\nfunction editFormat(date) {\n  return date === null ? '' : date.toISOString().substr(0, 10);\n}\n\n// from Date obj to 'Sat Feb 01 2021' str format\nfunction displayFormat(date) {\n  return date === null ? '' : date.toDateString();\n}\n\n// for validation, from 'yyyy-mm-dd' to Date obj or null\nfunction unformat(dateStr) {\n  const val = new Date(dateStr);\n  return Number.isNaN(val.getTime()) ? null : val;\n}\n\nexport default class DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: editFormat(props.value), focus: false, valid: true };\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  // handles changes in the input box\n  onChange(e) {\n    if (e.target.value.match(/^[\\d-]*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  // executed when the user clicks the input box\n  onFocus() {\n    this.setState({ focus: true });\n  }\n\n  // executed when the input box get unfocused\n  onBlur(e) {\n    const { value, valid: oldValid } = this.state;\n    const { onValidityChange, onChange } = this.props;\n\n    const dateValue = unformat(value);\n\n    const valid = value === '' || dateValue != null;\n\n    if (valid !== oldValid && onValidityChange) {\n      onValidityChange(e, valid);\n    }\n\n    this.setState({ focus: false, valid });\n\n    if (valid) onChange(e, dateValue);\n  }\n\n  render() {\n    const { value, focus, valid } = this.state;\n    const { value: origValue, onValidityChange, ...props } = this.props;\n    const inputVal = !valid || focus ? value : displayFormat(origValue);\n\n    return (\n      <input\n        {...props}\n        value={inputVal}\n        placeholder={focus ? 'yyyy-mm-dd' : null}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  NavItem,\n  Glyphicon,\n  Modal,\n  Form,\n  FormGroup,\n  FormControl,\n  ControlLabel,\n  Button,\n  ButtonToolbar,\n  Tooltip,\n  OverlayTrigger,\n} from 'react-bootstrap';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\n\nclass IssueAddNavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  showModal() {\n    this.setState({ showing: true });\n  }\n\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  async handleSubmit(e) {\n    /**\n     * Once the input form is submitted, it creats a new issue object\n     * using the values from the form and sends a issueAdd mutation\n     * request to the graphQL server. Then it navigates to the corresponding\n     * issue edit page to further add info to the new added issue.\n     */\n    e.preventDefault();\n    this.hideModal();\n    const form = document.forms.issueAdd;\n\n    const issue = {\n      owner: form.owner.value,\n      title: form.title.value,\n      due: new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 10),\n      description: '// no description yet',\n    };\n\n    const query = `mutation issueAdd($issue: IssueInputs!){\n       issueAdd(issue: $issue){\n        id\n       }\n    }`;\n\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { issue }, showError);\n    if (data) {\n      const { history } = this.props;\n      history.push(`/edit/${data.issueAdd.id}`);\n    }\n  }\n\n  render() {\n    const { showing } = this.state;\n    const { user: { signedIn } } = this.props;\n\n    return (\n      <React.Fragment>\n        {/* plus icon at the nav bar */}\n        <NavItem disabled={!signedIn} onClick={this.showModal}>\n          <OverlayTrigger\n            placement=\"left\"\n            delayShow={1000}\n            overlay={<Tooltip id=\"create-issue\">Create Issue</Tooltip>}\n          >\n            <Glyphicon glyph=\"plus\" />\n          </OverlayTrigger>\n        </NavItem>\n        {/* modal form where a new issue can be added */}\n        <Modal keyboard show={showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title>Create Issue</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"issueAdd\">\n              <FormGroup>\n                <ControlLabel>Title</ControlLabel>\n                <FormControl name=\"title\" autoFocus />\n              </FormGroup>\n              <FormGroup>\n                <ControlLabel>Owner</ControlLabel>\n                <FormControl name=\"owner\" />\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonToolbar>\n              <Button\n                type=\"button\"\n                bsStyle=\"primary\"\n                onClick={this.handleSubmit}\n              >\n                Submit\n              </Button>\n              <Button bsStyle=\"link\" onClick={this.hideModal}>\n                Cancel\n              </Button>\n            </ButtonToolbar>\n          </Modal.Footer>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withToast(withRouter(IssueAddNavItem));\n","import React from 'react';\n\nexport default function IssueDetail({ issue }) {\n  if (issue) {\n    return (\n      <div>\n        <h3>Description</h3>\n        <pre>{issue.description}</pre>\n      </div>\n    );\n  }\n  return null;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {\n  Col,\n  Panel,\n  Form,\n  FormGroup,\n  FormControl,\n  ControlLabel,\n  ButtonToolbar,\n  Button,\n  Alert,\n  Glyphicon,\n} from 'react-bootstrap';\nimport graphQLFetch from './graphQLFetch.js';\nimport NumInput from './NumInput.jsx';\nimport DateInput from './DateInput.jsx';\nimport TextInput from './TextInput.jsx';\nimport store from './store.js';\nimport withToast from './withToast.jsx';\nimport UserContext from './UserContext.js';\n\nclass IssueEdit extends React.Component {\n  static async fetchData(match, search, showError) {\n    /**\n     * Fetches an issue with a particular id from the graphQL api server\n     * Params - match: <Object> from react router\n     *          search: String from react router\n     *          showError: Func from ToastWrapper\n     */\n    const query = `query issue($id: Int!){\n            issue(id: $id){\n                id title status owner\n                effort created due description\n            }\n        }`;\n\n    const {\n      params: { id },\n    } = match;\n\n    const result = await graphQLFetch(query, { id: Number(id) }, showError);\n    return result;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const issue = store.initialData ? store.initialData.issue : null;\n    delete store.initialData;\n\n    this.state = {\n      issue, // <Object>\n      invalidFields: {}, // the fields of invalid user inputs\n      showingValidation: false, // validation message at the end of the form\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n  }\n\n  componentDidMount() {\n    const { issue } = this.state;\n    if (issue == null) {\n      this.loadData();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params: { id: prevId },\n      },\n    } = prevProps;\n\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n\n    if (prevId !== id) {\n      this.loadData();\n    }\n  }\n\n  // handles changes on the validity information of each of the input elements\n  onValidityChange(e, valid) {\n    const { name } = e.target;\n    this.setState((prevState) => {\n      const invalidFields = { ...prevState.invalidFields, [name]: !valid };\n      if (valid) delete invalidFields[name];\n      return { invalidFields };\n    });\n  }\n\n  // update the state.issue using the values from the user inputs\n  onChange(e, naturalValue) {\n    const { name, value: textValue } = e.target;\n\n    // if the input value with its true type is not passed, use the\n    // one with ordinary unconverted string input value from event object.\n    const value = naturalValue === undefined ? textValue : naturalValue;\n\n    this.setState(prevState => ({\n      issue: { ...prevState.issue, [name]: value },\n    }));\n  }\n\n  async handleSubmit(e) {\n    /**\n     * Submit the database with the new user input values in the form, by\n     * making a mutation request to the graphQL server.\n     * If there's any invalidFields left, terminate this method.\n     */\n    e.preventDefault();\n    this.showValidation();\n\n    const { issue, invalidFields } = this.state;\n\n    // check validity of inputs before updating\n    if (Object.keys(invalidFields).length !== 0) return;\n\n    const query = `mutation issueUpdate($id: Int!,\n                        $changes: IssueUpdateInputs!){\n                        issueUpdate(id: $id, changes: $changes){\n                            id title status owner\n                            effort created due description\n                        }\n                    }`;\n\n    const { id, created, ...changes } = issue;\n    const { showError, showSuccess } = this.props;\n\n    const data = await graphQLFetch(query, { id, changes }, showError);\n    if (data) {\n      this.setState({ issue: data.issueUpdate });\n      showSuccess('Updated issue successfully');\n    }\n  }\n\n  // load data from the graphql api server\n  async loadData() {\n    const { match, showError } = this.props;\n    const data = await IssueEdit.fetchData(match, null, showError);\n    this.setState({ issue: data ? data.issue : {}, invalidFields: {} });\n  }\n\n  showValidation() {\n    this.setState({ showingValidation: true });\n  }\n\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n\n  render() {\n    const { issue } = this.state;\n    const user = this.context;\n    if (issue == null) return null;\n\n    // ----- check if the \"id\" exists when\n    // \"prev\" and next links are used at the bottom ------------\n\n    const {\n      issue: { id },\n    } = this.state;\n\n    const {\n      match: {\n        params: { id: propsId },\n      },\n    } = this.props;\n\n    if (id == null) {\n      if (propsId != null) {\n        return <h2>{`Issue with ID: ${propsId} not found.`}</h2>;\n      }\n      return null;\n    }\n\n    // --- create a validtion message based on the state of the component ----\n\n    const { invalidFields, showingValidation } = this.state;\n\n    let validationMessage;\n\n    if (Object.keys(invalidFields).length !== 0 && showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please correct invalid fields before submitting\n        </Alert>\n      );\n    }\n\n    const signinInfoStyle = {\n      display: user.signedIn === true ? 'none' : 'flex',\n      alignItems: 'center',\n      marginBottom: '15px',\n    };\n\n    // --------- ui presentation -----------------\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-4 col-md-offset-8\">\n            <div style={signinInfoStyle}>\n              <Glyphicon\n                style={{ color: 'orange', margin: '0 5px' }}\n                glyph=\"info-sign\"\n              />\n              <p style={{ color: 'orange', margin: '0' }}>\n                You might want to sign in to edit and add issues.\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <Panel>\n            <Panel.Heading>\n              <Panel.Title>{`Editing issue: ${id}`}</Panel.Title>\n            </Panel.Heading>\n            <Panel.Body>\n              {/* horizontal form to edit an issue */}\n              <Form horizontal onSubmit={this.handleSubmit}>\n                {/* created form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Created\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl.Static>\n                      {issue.created.toDateString()}\n                    </FormControl.Static>\n                  </Col>\n                </FormGroup>\n                {/* status form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Status\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass=\"select\"\n                      name=\"status\"\n                      value={issue.status}\n                      onChange={this.onChange}\n                    >\n                      <option value=\"New\">New</option>\n                      <option value=\"Assigned\">Assigned</option>\n                      <option value=\"Fixed\">Fixed</option>\n                      <option value=\"Closed\">Closed</option>\n                    </FormControl>\n                  </Col>\n                </FormGroup>\n                {/* owner form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Owner\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass={TextInput}\n                      name=\"owner\"\n                      value={issue.owner}\n                      onChange={this.onChange}\n                      key={id}\n                    />\n                  </Col>\n                </FormGroup>\n                {/* effort form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Effort\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass={NumInput}\n                      name=\"effort\"\n                      value={issue.effort}\n                      onChange={this.onChange}\n                      key={id}\n                    />\n                  </Col>\n                </FormGroup>\n                {/* due date form field */}\n                <FormGroup validationState={invalidFields.due ? 'error' : null}>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Due\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass={DateInput}\n                      onValidityChange={this.onValidityChange}\n                      name=\"due\"\n                      value={issue.due}\n                      onChange={this.onChange}\n                      key={id}\n                    />\n                    <FormControl.Feedback />\n                  </Col>\n                </FormGroup>\n                {/* title form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Title\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass={TextInput}\n                      size={50}\n                      name=\"title\"\n                      value={issue.title}\n                      onChange={this.onChange}\n                      key={id}\n                    />\n                  </Col>\n                </FormGroup>\n                {/* issue description form field */}\n                <FormGroup>\n                  <Col componentClass={ControlLabel} sm={3}>\n                    Description\n                  </Col>\n                  <Col sm={9}>\n                    <FormControl\n                      componentClass={TextInput}\n                      tag=\"textarea\"\n                      rows={4}\n                      cols={50}\n                      name=\"description\"\n                      value={issue.description}\n                      onChange={this.onChange}\n                      key={id}\n                    />\n                  </Col>\n                </FormGroup>\n                {/* submit button */}\n                <FormGroup>\n                  <Col smOffset={3} sm={6}>\n                    <ButtonToolbar>\n                      <Button\n                        disabled={!user.signedIn}\n                        bsStyle=\"primary\"\n                        type=\"submit\"\n                      >\n                        Submit\n                      </Button>\n                      <LinkContainer to=\"/issues\">\n                        <Button bsStyle=\"link\">Back</Button>\n                      </LinkContainer>\n                    </ButtonToolbar>\n                  </Col>\n                </FormGroup>\n                {/* form inputs validation message */}\n                <FormGroup>\n                  <Col smOffset={3} sm={9}>\n                    {validationMessage}\n                  </Col>\n                </FormGroup>\n              </Form>\n            </Panel.Body>\n            {/* prev and next page */}\n            <Panel.Footer>\n              <Link to={`/edit/${id - 1}`}>Prev</Link>\n              {' | '}\n              <Link to={`/edit/${id + 1}`}>Next</Link>\n            </Panel.Footer>\n          </Panel>\n        </div>\n      </div>\n    );\n  }\n}\n\nIssueEdit.contextType = UserContext;\nconst IssueEditWithToast = withToast(IssueEdit);\nIssueEditWithToast.fetchData = IssueEdit.fetchData;\n\nexport default IssueEditWithToast;\n","import React from 'react';\nimport {\n  Button,\n  ButtonToolbar,\n  FormGroup,\n  FormControl,\n  ControlLabel,\n  InputGroup,\n  Row,\n  Col,\n} from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom';\nimport 'url-search-params-polyfill';\n\nclass IssueFilter extends React.Component {\n  constructor({ location: { search } }) {\n    super();\n    const params = new URLSearchParams(search);\n    this.state = {\n      status: params.get('status') || '',\n      changed: false,\n      effortMin: params.get('effortMin') || '',\n      effortMax: params.get('effortMax') || '',\n    };\n\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeEffortMin = this.onChangeEffortMin.bind(this);\n    this.onChangeEffortMax = this.onChangeEffortMax.bind(this);\n    this.applyFilter = this.applyFilter.bind(this);\n    this.showOriginalFilter = this.showOriginalFilter.bind(this);\n  }\n\n  // handles changes on status input form\n  onChangeStatus(e) {\n    this.setState({ status: e.target.value, changed: true });\n  }\n\n  // handles changes on effortMin input form\n  onChangeEffortMin(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effortMin: effortString, changed: true });\n    }\n  }\n\n  // handles changes on effortMax input form\n  onChangeEffortMax(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effortMax: effortString, changed: true });\n    }\n  }\n\n  // resets the filter input form's state\n  showOriginalFilter() {\n    const {\n      location: { search },\n    } = this.props;\n\n    const params = new URLSearchParams(search);\n    this.setState({\n      status: params.get('status') || '',\n      effortMin: params.get('effortMin') || '',\n      effortMax: params.get('effortMax') || '',\n      changed: false,\n    });\n  }\n\n  applyFilter() {\n    const { status } = this.state;\n    const { effortMin, effortMax } = this.state;\n\n    const params = new URLSearchParams();\n    if (status) params.set('status', status);\n    if (effortMin) params.set('effortMin', effortMin);\n    if (effortMax) params.set('effortMax', effortMax);\n    // progmatic navigation\n    const { history, urlBase } = this.props;\n    history.push({\n      pathname: urlBase,\n      search: params.toString() ? `?${params.toString()}` : '',\n    });\n  }\n\n  render() {\n    const { status, changed } = this.state;\n    const { effortMin, effortMax } = this.state;\n\n    return (\n      <Row>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Status:</ControlLabel>\n            <FormControl\n              componentClass=\"select\"\n              value={status}\n              onChange={this.onChangeStatus}\n            >\n              <option value=\"\">(All issues)</option>\n              <option value=\"New\">New</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Effort between:</ControlLabel>\n            <InputGroup>\n              <FormControl\n                value={effortMin}\n                onChange={this.onChangeEffortMin}\n              />\n              <InputGroup.Addon>-</InputGroup.Addon>\n              <FormControl\n                value={effortMax}\n                onChange={this.onChangeEffortMax}\n              />\n            </InputGroup>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>&nbsp;</ControlLabel>\n            <ButtonToolbar>\n              <Button\n                bsStyle=\"primary\"\n                type=\"button\"\n                onClick={this.applyFilter}\n              >\n                Apply\n              </Button>\n              <Button\n                bsStyle=\"primary\"\n                type=\"button\"\n                onClick={this.showOriginalFilter}\n                disabled={!changed}\n              >\n                Reset\n              </Button>\n            </ButtonToolbar>\n          </FormGroup>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default withRouter(IssueFilter);\n","import React from 'react';\nimport 'url-search-params-polyfill';\nimport {\n  Panel,\n  Pagination,\n  Button,\n  Glyphicon,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport IssueFilter from './IssueFilter.jsx';\nimport IssueTable from './IssueTable.jsx';\nimport IssueDetail from './IssueDetail.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport store from './store.js';\nimport withToast from './withToast.jsx';\nimport UserContext from './UserContext.js';\n\n// number of pagination links in each section\nconst SECTION_SIZE = 5;\n\n// ------- PageLink Component --------------\n\nfunction PageLink({\n  params, page, activePage, children,\n}) {\n  /**\n   * It represents each pagination links\n   * Props - params: Object instance from URLSearchParams\n   *                 to create query parameter.\n   *       - page: Int, the corresponding page number.\n   *       - activePage: currently active page number from URL.\n   */\n  params.set('page', page);\n\n  // disable the element when the page number is zero which is invalid.\n  if (page === 0) return React.cloneElement(children, { disabled: true });\n\n  return (\n    <LinkContainer\n      isActive={() => page === activePage}\n      to={{ pathname: '/issues', search: `?${params.toString()}` }}\n    >\n      {children}\n    </LinkContainer>\n  );\n}\n\n// -------- Issue List Component ------------------\n\nclass IssueList extends React.Component {\n  static async fetchData(match, search, showError) {\n    /**\n     * Static method to fetch list of issues from the graphql server.\n     * This serves an issue list page.\n     * Params - match: <Object> given by react router\n     *        - search: <String> query paramter by react router\n     *        - showError: <Func> method from ToastWrapper compoent\n     */\n\n    // ---- analyzing the URL using match and search props -----\n\n    const params = new URLSearchParams(search);\n\n    // vars <Object> serves as filter for graphQL query\n    const vars = { hasSelection: false, selectedId: 0 };\n\n    const { params: { id } } = match;\n    const idInt = parseInt(id, 10);\n\n    // if \"id\" is found in router parameter, update the vars obj.\n    if (!Number.isNaN(idInt)) {\n      vars.hasSelection = true;\n      vars.selectedId = idInt;\n    }\n\n    // analyze the query string and set it in the vars obj\n\n    if (params.get('status')) vars.status = params.get('status');\n\n    const effortMin = parseInt(params.get('effortMin'), 10);\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\n\n    const effortMax = parseInt(params.get('effortMax'), 10);\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\n\n    let page = parseInt(params.get('page'), 10);\n    if (Number.isNaN(page)) page = 1;\n    vars.page = page;\n\n    // ----- make an async graphQL query to the API server ------\n\n    const query = `query issueList(\n                     $status: StatusType,\n                     $effortMin: Int,\n                     $effortMax: Int,\n                     $hasSelection: Boolean!,\n                     $selectedId: Int!,\n                     $page: Int\n                     ){\n                      issueList(\n                        status: $status,\n                        effortMin: $effortMin,\n                        effortMax: $effortMax,\n                        page: $page\n                        ){\n                          issues {\n                            id title\n                            status owner\n                            created effort due\n                          }\n                          pages\n                         }\n                      issue(id: $selectedId) @include (if: $hasSelection){\n                        id description\n                      }\n                    }`;\n\n    const data = await graphQLFetch(query, vars, showError);\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const initialData = store.initialData || { issueList: {} };\n    const { issueList: { issues, pages }, issue: selectedIssue } = initialData;\n\n    // once  the property is destructed, it can be deleted in the global store\n    delete store.initialData;\n\n    this.state = {\n      issues, // Array<Object>\n      pages, // Int\n      selectedIssue, // { [string]: any }\n      open: false,\n    };\n\n    this.closeIssue = this.closeIssue.bind(this);\n    this.deleteIssue = this.deleteIssue.bind(this);\n    this.togglePanel = this.togglePanel.bind(this);\n  }\n\n  componentDidMount() {\n    const { issues } = this.state;\n\n    // only fetch data if the component is navigated through\n    // browser-rendering. In server-side rendering, no need to\n    // load data since they're already pre-populated.\n    if (issues == null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    // fetch data if there is a change in the URL paramters\n\n    // get the previous query string and route parameter \"id\"\n    const {\n      location: { search: prevSearch },\n      match: {\n        params: { id: prevId },\n      },\n    } = prevProps;\n\n    // get the current query string and route parameter \"id\"\n    const {\n      location: { search },\n      match: {\n        params: { id },\n      },\n    } = this.props;\n\n    // only load data if there's a difference\n    if (prevSearch !== search || prevId !== id) {\n      this.loadData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({});\n  }\n\n  togglePanel() {\n    this.setState((state) => {\n      const open = !state.open;\n      return { open };\n    });\n  }\n\n  // handler function for clicking on close issue btn in IssueRow\n  async closeIssue(index) {\n    /**\n     * Sends a close mutation request to the graphQL server.\n     * If the mutation is successful, show successful toast message\n     * and update the status of that particualar issue in state.issues.\n     * Params - index: Int (The index of the issue in state.issues array\n     *                      to be closed)\n     */\n    const { issues } = this.state;\n    const query = `mutation issueClose($id: Int!){\n                        issueUpdate(id: $id, changes: {status: Closed}){\n                            id title status owner\n                            effort created due description\n                        }\n                   }`;\n\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { id: issues[index].id }, showError);\n\n    if (data) {\n      this.setState((prevState) => {\n        const newList = [...prevState.issues];\n        newList[index] = data.issueUpdate;\n        return { issues: newList };\n      });\n\n      const { showSuccess } = this.props;\n      showSuccess('Successfully closed the issue');\n    }\n  }\n\n  // handler function for clicking UNDO in Toast\n  async restoreIssue(id) {\n    /**\n     * Sends a restore mutation request to the graphQL server.\n     * If the mutation is successful, show successful toast message\n     * and fetch the data again.\n     * Params - id: Int (The id of the issue to be restored)\n     */\n    const query = `mutation issueRestore($id: Int!) {\n      issueRestore(id: $id)\n    }`;\n\n    const { showError, showSuccess } = this.props;\n\n    const data = await graphQLFetch(query, { id }, showError);\n    if (data) {\n      showSuccess(`Issue ${id} restored successfully.`);\n      this.loadData();\n    }\n  }\n\n  // handler func for clicking delete btn in IssueRow\n  async deleteIssue(index) {\n    /**\n     * Sends a mutation delete request to the graphQL server.\n     * If the mutation is successful, remove the deleted issue obj\n     * from state.issues.\n     * Params - index: Int (The index of the issue to be deleted from\n     *                      the state.issues array)\n     */\n    const query = `mutation issueDelete($id: Int!){\n                        issueDelete(id: $id)\n                    }`;\n\n    const { issues } = this.state;\n\n    const {\n      location: { pathname, search },\n      history,\n    } = this.props;\n\n    // destructuring the id field from issues[index]\n    const { id } = issues[index];\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { id: Number(id) }, showError);\n\n    // if the issue is successfully deleted in the database\n    if (data && data.issueDelete) {\n      this.setState((prevState) => {\n        const newList = [...prevState.issues];\n\n        // if the row is selected and the description is displayed,\n        // drop the \"id\" route parameter from the URL\n        if (pathname === `/issues/${id}`) {\n          history.push({ pathname: '/issues', search });\n        }\n\n        // remove the deleted issue from the list in state.\n        newList.splice(index, 1);\n        return { issues: newList };\n      });\n\n      const { showSuccess } = this.props;\n\n      // create a success toast with UNDO button to restore\n      // the deleted issue.\n      const undoMessage = (\n        <span>\n          {`Deleted issue ${id} successfully.`}\n          <Button bsStyle=\"link\" onClick={() => this.restoreIssue(id)}>\n            UNDO\n          </Button>\n        </span>\n      );\n      showSuccess(undoMessage);\n    } else {\n      this.loadData();\n    }\n  }\n\n  // fetch data for browser-rendering\n  async loadData() {\n    /**\n     * Fetches list of issues from the database via API call using\n     * the class's static method.\n     * Updates the state of the component.\n     */\n    const {\n      location: { search },\n      match,\n    } = this.props;\n\n    const { showError } = this.props;\n    const data = await IssueList.fetchData(match, search, showError);\n\n    if (data) {\n      this.setState({\n        issues: data.issueList.issues,\n        pages: data.issueList.pages,\n        selectedIssue: data.issue,\n      });\n    }\n  }\n\n  render() {\n    const { issues, open } = this.state;\n    const user = this.context;\n    if (issues == null) return null;\n\n    // -------- pagination logics and creating pagination links ----------\n\n    const { selectedIssue, pages } = this.state;\n    const { location: { search } } = this.props;\n\n    const params = new URLSearchParams(search);\n    let page = parseInt(params.get('page'), 10);\n\n    // if page is NaN, it signifies initial page load, where it should be\n    // set to 1.\n    if (Number.isNaN(page)) page = 1;\n\n    // startPage calculated from page. endPage, prevSection and\n    // nextSection calculated from startPage.\n    const startPage = Math.floor((page - 1) / SECTION_SIZE) * SECTION_SIZE + 1;\n    const endPage = startPage + SECTION_SIZE - 1;\n    const prevSection = startPage === 1 ? 0 : startPage - SECTION_SIZE;\n    const nextSection = endPage >= pages ? 0 : startPage + SECTION_SIZE;\n\n    const items = [];\n    // push each PageLink into items[] based on startPage and endPage\n    for (let i = startPage; i <= Math.min(endPage, pages); i += 1) {\n      params.set('page', i);\n      items.push((\n        <PageLink key={i} params={params} activePage={page} page={i}>\n          <Pagination.Item>{i}</Pagination.Item>\n        </PageLink>\n      ));\n    }\n\n    const infoStyle = {\n      display: user.signedIn === true ? 'none' : 'flex',\n      alignItems: 'center',\n      marginBottom: '15px',\n    };\n\n    return (\n      <React.Fragment>\n        {/* ----- Filter panel ----------- */}\n        <div className=\"container\">\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <Button onClick={this.togglePanel}>\n              Filter Issues\n            </Button>\n            <div style={infoStyle}>\n              <Glyphicon\n                style={{ color: 'orange', margin: '0 5px' }}\n                glyph=\"info-sign\"\n              />\n              <p style={{ color: 'orange', margin: '0' }}>\n                You might want to sign in to edit and add issues.\n              </p>\n            </div>\n          </div>\n          {/* <br /> */}\n          <Panel\n            style={{ display: open ? 'block' : 'none' }}\n            expanded={open}\n            onToggle={this.togglePanel}\n            defaultExpanded\n          >\n            <Panel.Collapse>\n              <Panel.Body>\n                <IssueFilter urlBase=\"/issues\" />\n              </Panel.Body>\n            </Panel.Collapse>\n          </Panel>\n          <hr />\n          {/* table of issue list */}\n          <IssueTable\n            issues={issues}\n            closeIssue={this.closeIssue}\n            deleteIssue={this.deleteIssue}\n          />\n          {/* issue detail */}\n          <IssueDetail issue={selectedIssue} />\n          {/* pagination links */}\n          <Pagination>\n            <PageLink params={params} page={prevSection}>\n              <Pagination.Item>{'<'}</Pagination.Item>\n            </PageLink>\n            {items}\n            <PageLink params={params} page={nextSection}>\n              <Pagination.Item>{'>'}</Pagination.Item>\n            </PageLink>\n          </Pagination>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nIssueList.contextType = UserContext;\nconst IssueListWithToast = withToast(IssueList);\nIssueListWithToast.fetchData = IssueList.fetchData;\n\nexport default IssueListWithToast;\n","import 'url-search-params-polyfill';\nimport { v4 as uuidv4 } from 'uuid';\nimport React from 'react';\nimport { Panel, Table } from 'react-bootstrap';\nimport graphQLFetch from './graphQLFetch.js';\nimport IssueFilter from './IssueFilter.jsx';\nimport store from './store.js';\nimport withToast from './withToast.jsx';\n\nconst statuses = ['New', 'Assigned', 'Fixed', 'Closed'];\n\nclass IssueReport extends React.Component {\n  static async fetchData(match, search, showError) {\n    const params = new URLSearchParams(search);\n    const vars = {};\n    if (params.get('status')) vars.status = params.get('status');\n\n    const effortMin = parseInt(params.get('effortMin'), 10);\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\n\n    const effortMax = parseInt(params.get('effortMax'), 10);\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\n\n    const query = `query issueCounts(\n                    $status: StatusType, \n                    $effortMin: Int, \n                    $effortMax: Int) {\n                      issueCounts(\n                        status: $status,\n                        effortMin: $effortMin,\n                        effortMax: $effortMax\n                      ) {\n                        owner New Assigned Fixed Closed\n                      }\n                    }`;\n\n    const data = await graphQLFetch(query, vars, showError);\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const stats = store.initialData ? store.initialData.issueCounts : null;\n    delete store.initialData;\n    this.state = { stats };\n  }\n\n  componentDidMount() {\n    const { stats } = this.state;\n    if (stats === null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location: { search: prevSearch } } = prevProps;\n    const { location: { search } } = this.props;\n\n    if (prevSearch !== search) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    const { showError } = this.props;\n    const { location: { search }, match } = this.props;\n\n    const result = await IssueReport.fetchData(match, search, showError);\n    this.setState({ stats: result ? result.issueCounts : [] });\n  }\n\n  render() {\n    const { stats } = this.state;\n    if (stats === null) return null;\n\n    const headerColumns = (\n      statuses.map(status => (\n        <th className=\"axHead\" key={status}>{status}</th>\n      ))\n    );\n\n    const statRows = stats.map(counts => (\n      <tr key={counts.owner}>\n        <td className=\"rcell\">{counts.owner}</td>\n        {statuses.map(status => (\n          <td className=\"rcell\" key={uuidv4()}>\n            {counts[status] ? counts[status] : 0}\n          </td>\n        ))}\n      </tr>\n    ));\n\n    return (\n      <>\n        <div className=\"container\">\n          <Panel>\n            <Panel.Heading>\n              <Panel.Title toggle>Filter</Panel.Title>\n            </Panel.Heading>\n            <Panel.Body collapsible>\n              <IssueFilter urlBase=\"/report\" />\n            </Panel.Body>\n          </Panel>\n          <Table condensed responsive>\n            <thead>\n              <tr className=\"axHeadRow\">\n                <th className=\"axHead\">User \\ Status</th>\n                {headerColumns}\n              </tr>\n            </thead>\n            <tbody>\n              {statRows}\n            </tbody>\n          </Table>\n        </div>\n      </>\n    );\n  }\n}\n\nconst IssueReportWithToast = withToast(IssueReport);\nIssueReportWithToast.fetchData = IssueReport.fetchData;\nexport default IssueReportWithToast;\n","import React from 'react';\nimport {\n  Button,\n  Glyphicon,\n  Tooltip,\n  OverlayTrigger,\n  Table,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { withRouter } from 'react-router-dom';\nimport UserContext from './UserContext.js';\nimport colors from './color.js';\n\n// -------- Issue Row Component ---------------\n\nclass IssueRowPlain extends React.Component {\n  /**\n    * const IssueRow = withRouter((props) => {...});\n    * Represents each row of issue in a IssueTable.\n    * Props: issue: {[string]: any}, search: String\n    *        closeIssue: Func(index), index: Int\n    *        deleteIssue: Func(index)\n    * Parent: IssueTable\n    */\n  constructor() {\n    super();\n    this.onClose = this.onClose.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  // handles the event of click on close issue button in each row\n  onClose(e) {\n    e.preventDefault();\n    const { closeIssue, index } = this.props;\n    closeIssue(index);\n  }\n\n  // handles the event of click on delete issue button in each row\n  onDelete(e) {\n    e.preventDefault();\n    const { deleteIssue, index } = this.props;\n    deleteIssue(index);\n  }\n\n  render() {\n    const {\n      issue,\n      location: { search },\n    } = this.props;\n\n    const user = this.context;\n\n    // tooltip elements to be used in OverLay\n    const closeTooltip = <Tooltip id=\"close-tooltip\">Close Issue</Tooltip>;\n    const deleteTooltip = <Tooltip id=\"delete-tooltip\">Delete Issue</Tooltip>;\n    const editTooltip = <Tooltip id=\"edit-tooltip\">Edit Issue</Tooltip>;\n\n    const statusStyle = {\n      backgroundColor: `${colors.status[issue.status]}`,\n      paddingTop: '0.5px',\n      paddingBottom: '0.5px',\n      borderRadius: '0.5rem',\n      margin: '0 auto',\n    };\n\n    const tableRow = (\n      <tr>\n        <td>{issue.id}</td>\n        <td>\n          <div style={statusStyle}>\n            {issue.status}\n          </div>\n        </td>\n        <td>{issue.owner}</td>\n        <td>{issue.created.toDateString()}</td>\n        <td>{issue.effort}</td>\n        <td>{issue.due ? issue.due.toDateString() : ' '}</td>\n        <td>{issue.title}</td>\n        <td>\n          <div className=\"actionBtn\">\n            <LinkContainer to={`/edit/${issue.id}`}>\n              <OverlayTrigger delayShow={1000} overlay={editTooltip}>\n                <Button bsSize=\"xsmall\">\n                  <Glyphicon glyph=\"edit\" />\n                </Button>\n              </OverlayTrigger>\n            </LinkContainer>\n            <OverlayTrigger\n              delayShow={1000}\n              overlay={closeTooltip}\n              placement=\"top\"\n            >\n              <Button\n                disabled={!user.signedIn}\n                bsSize=\"xsmall\"\n                type=\"button\"\n                onClick={this.onClose}\n              >\n                <Glyphicon glyph=\"remove\" />\n              </Button>\n            </OverlayTrigger>\n            <OverlayTrigger\n              delayShow={1000}\n              overlay={deleteTooltip}\n              placement=\"top\"\n            >\n              <Button\n                disabled={!user.signedIn}\n                type=\"button\"\n                bsSize=\"xsmall\"\n                onClick={this.onDelete}\n              >\n                <Glyphicon glyph=\"trash\" />\n              </Button>\n            </OverlayTrigger>\n          </div>\n        </td>\n      </tr>\n    );\n\n    const selectedLocation = { pathname: `/issues/${issue.id}`, search };\n\n    // each tableRow becomes a link to display description of each id\n    return <LinkContainer to={selectedLocation}>{tableRow}</LinkContainer>;\n  }\n}\n\n// this is due to the fact that the wrapped component IssueRow is a stateless\n// component based on the withRouter documentation. That's why you can't assign\n// to it. contextType is meant to be a static class method.\nIssueRowPlain.contextType = UserContext;\nconst IssueRow = withRouter(IssueRowPlain);\ndelete IssueRow.contextType;\n\n// --------- Issue Table Component -----------------\n\nexport default function IssueTable({ issues, closeIssue, deleteIssue }) {\n  /**\n   * Displays a list of issues in a table.\n   * Props: issues: Array<Objects>\n   *        closeIssue: Func\n   *        deleteIssue: Func\n   */\n\n  // map each issue object to IssueRow\n  const issueRows = issues.map((issue, index) => (\n    <IssueRow\n      key={issue.id}\n      issue={issue}\n      deleteIssue={deleteIssue}\n      closeIssue={closeIssue}\n      index={index}\n    />\n  ));\n\n  return (\n    <Table hover responsive>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Status</th>\n          <th>Owner</th>\n          <th>Created</th>\n          <th>Effort</th>\n          <th>Due Date</th>\n          <th>Title</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>{issueRows}</tbody>\n    </Table>\n  );\n}\n","import React from 'react';\nimport {\n  Navbar,\n  Nav,\n  NavItem,\n  NavDropdown,\n  MenuItem,\n  Col,\n  Glyphicon,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\nimport Search from './Search.jsx';\nimport SignInNavItem from './SignInNavItem.jsx';\n\nexport default function NavBar({ user, onUserChange }) {\n  return (\n    <Navbar className=\"amNavbar\">\n      <Navbar.Header>\n        <Navbar.Brand>\n          <p style={{\n            color: 'white',\n            fontWeight: 'bold',\n          }}\n          >\n             Issue Tracker\n          </p>\n        </Navbar.Brand>\n      </Navbar.Header>\n      <Nav>\n        <LinkContainer exact to=\"/\">\n          <NavItem>\n            Home\n          </NavItem>\n        </LinkContainer>\n        <LinkContainer to=\"/issues\">\n          <NavItem>\n            Issue List\n          </NavItem>\n        </LinkContainer>\n        <LinkContainer to=\"/report\">\n          <NavItem>\n            Report\n          </NavItem>\n        </LinkContainer>\n      </Nav>\n      <Col sm={4} md={5}>\n        <Navbar.Form>\n          <Search />\n        </Navbar.Form>\n      </Col>\n      <Nav pullRight>\n        <IssueAddNavItem user={user} />\n        <SignInNavItem user={user} onUserChange={onUserChange} />\n        <NavDropdown\n          id=\"user-dropdown\"\n          title={<Glyphicon glyph=\"option-vertical\" />}\n          noCaret\n        >\n          <MenuItem href=\"/about\">About</MenuItem>\n        </NavDropdown>\n      </Nav>\n    </Navbar>\n  );\n}\n","import React from 'react';\n\nexport default function NotFound() {\n  return <h1>Page Not Found</h1>;\n}\n","import React from 'react';\n\n// from num to string\nfunction format(num) {\n  return num != null ? num.toString() : '';\n}\n\n// from string to num\nfunction unformat(str) {\n  const val = parseInt(str, 10);\n  return Number.isNaN(val) ? null : val;\n}\n\nexport default class NumInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^\\d*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  // handle when the input looses focus\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    return (\n      <input\n        type=\"text\"\n        {...this.props}\n        value={value}\n        onBlur={this.onBlur}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Grid,\n} from 'react-bootstrap';\nimport Contents from './Contents.jsx';\nimport NavBar from './NavBar.jsx';\n// import Footer from './Footer.jsx';\nimport UserContext from './UserContext.js';\nimport graphQLFetch from './graphQLFetch.js';\nimport store from './store.js';\n\nexport default class Page extends React.Component {\n  static async fetchData(cookie) {\n    const query = 'query { user { username signedIn } }';\n    const data = await graphQLFetch(query, null, null, cookie);\n    return data;\n  }\n\n  constructor() {\n    super();\n    const user = store.userData ? store.userData.user : null;\n    delete store.userData;\n    this.state = { user };\n    this.onUserChange = this.onUserChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const { user } = this.state;\n    if (user === null) {\n      const data = await Page.fetchData();\n      this.setState({ user: data.user });\n    }\n  }\n\n  onUserChange(user) {\n    this.setState({ user });\n  }\n\n  render() {\n    const { user } = this.state;\n    if (user === null) return null;\n\n    return (\n      <div>\n        <NavBar user={user} onUserChange={this.onUserChange} />\n        <Grid fluid>\n          <UserContext.Provider value={user}>\n            <Contents />\n          </UserContext.Provider>\n        </Grid>\n        {/* <Footer /> */}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Glyphicon } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom';\nimport AsyncSelect from 'react-select/async';\nimport graphQLFetch from './graphQLFetch.js';\nimport withToast from './withToast.jsx';\n\nconst colourStyles = {\n  control: styles => ({\n    ...styles,\n    backgroundColor: '#5b5e6f4a',\n    borderColor: '#666a77',\n    cursor: 'text',\n  }),\n  input: styles => ({\n    ...styles,\n    color: 'white',\n  }),\n  placeholder: styles => ({\n    ...styles,\n    color: '#adafb9',\n  }),\n};\n\nfunction PlaceholderComp() {\n  return (\n    <>\n      <Glyphicon glyph=\"search\" />\n      {'   '}\n      <span>Search for issues...</span>\n    </>\n  );\n}\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loadOptions = this.loadOptions.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  // asynchronously load options from a remote server\n  async loadOptions(inputValue, callback) {\n    if (inputValue.length < 3) return [];\n    const query = `query issueList($search: String) {\n      issueList(search: $search) {\n        issues {\n          id title\n        }\n      }\n    }`;\n\n    const { showError } = this.props;\n    const data = await graphQLFetch(query, { search: inputValue }, showError);\n\n    // returns a list of options<Object> array. {label: \"\", value: \"\"}\n    const options = () => data.issueList.issues.map(issue => (\n      { label: `#${issue.id}: ${issue.title}`, value: issue.id }\n    ));\n\n    callback(options());\n    return undefined;\n  }\n\n  // handles when the AsyncSelect value is changed\n  // (when one of the options is selected).\n  handleChange(option) {\n    const { history } = this.props;\n    history.push({\n      pathname: `/edit/${option.value}`,\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <AsyncSelect\n          instanceId=\"search-select\"\n          value=\"\"\n          placeholder={<PlaceholderComp />}\n          onChange={this.handleChange}\n          loadOptions={this.loadOptions}\n          components={{ DropdownIndicator: null }}\n          styles={colourStyles}\n        />\n      </>\n    );\n  }\n}\n\nexport default withRouter(withToast(Search));\n","import React from 'react';\nimport fetch from 'isomorphic-fetch';\nimport {\n  Button,\n  ControlLabel,\n  Form,\n  FormControl,\n  FormGroup,\n  HelpBlock,\n  MenuItem,\n  Modal,\n  NavDropdown,\n  NavItem,\n} from 'react-bootstrap';\nimport withToast from './withToast.jsx';\n\nclass SignInNavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pswd: '',\n      showingModal: false,\n      loginErrMsg: '',\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.validateUsername = this.validateUsername.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  showModal() {\n    this.setState({ showingModal: true });\n  }\n\n  hideModal() {\n    this.setState({ showingModal: false });\n  }\n\n  async signIn(e) {\n    e.preventDefault();\n    const { pswd } = this.state;\n    const { user: { username }, onUserChange } = this.props;\n    const { showSuccess } = this.props;\n\n    const authEndpoint = window.ENV.UI_AUTH_ENDPOINT;\n\n    try {\n      const response = await fetch(`${authEndpoint}/signin`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-type': 'application/json',\n        },\n        body: JSON.stringify({ username, pswd }),\n      });\n\n      const body = await response.text();\n      const credentials = JSON.parse(body);\n\n      onUserChange({ ...credentials });\n\n      this.hideModal();\n      showSuccess('Login Successful.');\n    } catch (error) {\n      this.setState({ loginErrMsg: 'Incorrect password!' });\n    }\n  }\n\n  async signOut() {\n    const { onUserChange } = this.props;\n    const authEndpoint = window.ENV.UI_AUTH_ENDPOINT;\n    await fetch(`${authEndpoint}/signout`, {\n      method: 'POST',\n      credentials: 'include',\n    });\n\n    onUserChange({ username: '', signedIn: false });\n  }\n\n  validateUsername() {\n    const { user: { username } } = this.props;\n    if (username) {\n      const len = username.length;\n      if (len > 3) return 'success';\n      if (len > 0) return 'error';\n    }\n    return null;\n  }\n\n  handleChange(e) {\n    const { onUserChange } = this.props;\n    if (e.target.name === 'username') {\n      onUserChange({ username: e.target.value, signedIn: false });\n    } else {\n      this.setState({ pswd: e.target.value });\n    }\n  }\n\n  render() {\n    const { user } = this.props;\n    const { pswd } = this.state;\n    if (user.signedIn) {\n      return (\n        <>\n          <NavDropdown title={user.username} id=\"user\">\n            <MenuItem onClick={this.signOut}>Sign out</MenuItem>\n          </NavDropdown>\n        </>\n      );\n    }\n\n    let signInDisable = true;\n    if (user.username && pswd) {\n      if (user.username.length > 3) {\n        signInDisable = false;\n      }\n    }\n\n    const { showingModal, loginErrMsg } = this.state;\n\n    return (\n      <>\n        <NavItem onClick={this.showModal}>\n          <span className=\"mgSignin\">Sign in</span>\n        </NavItem>\n        <Modal keyboard show={showingModal} onHide={this.hideModal} bsSize=\"sm\">\n          <Modal.Header closeButton>\n            <Modal.Title>SIGN IN</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"signIn\" onSubmit={this.signIn}>\n              {/* ------ sign in form username group ---------- */}\n              <FormGroup\n                controlId=\"formUsername\"\n                validationState={this.validateUsername()}\n              >\n                <ControlLabel>Username</ControlLabel>\n                <FormControl\n                  type=\"text\"\n                  name=\"username\"\n                  value={user.username || ''}\n                  onChange={this.handleChange}\n                />\n                <FormControl.Feedback />\n                <HelpBlock>\n                  More than three characters.\n                </HelpBlock>\n              </FormGroup>\n              {/* ------ sign in form password group ---------- */}\n              <FormGroup\n                controlId=\"formPassword\"\n              >\n                <ControlLabel>Password</ControlLabel>\n                <FormControl\n                  type=\"password\"\n                  name=\"pswd\"\n                  value={pswd}\n                  onChange={this.handleChange}\n                />\n                <FormControl.Feedback />\n                <HelpBlock>\n                  Password: superman\n                  <div style={{ color: '#f26b41' }}>{loginErrMsg}</div>\n                </HelpBlock>\n              </FormGroup>\n              {/* ------- Sign-in block button -------------- */}\n              <Button\n                block\n                type=\"submit\"\n                bsStyle=\"primary\"\n                onClick={this.signIn}\n                disabled={signInDisable}\n              >\n                Sign In\n              </Button>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withToast(SignInNavItem);\n","import React from 'react';\n\nfunction format(text) {\n  return text != null ? text : '';\n}\n\nfunction unformat(text) {\n  return text.trim().length === 0 ? null : text;\n}\n\nexport default class TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    const { tag = 'input', ...props } = this.props;\n    return React.createElement(tag, {\n      ...props,\n      value,\n      onBlur: this.onBlur,\n      onChange: this.onChange,\n    });\n  }\n}\n","import React from 'react';\nimport { Alert, Collapse } from 'react-bootstrap';\n\nexport default class Toast extends React.Component {\n  componentDidUpdate() {\n    const { showing, onDismiss } = this.props;\n    if (showing) {\n      this.dismissTimer = setTimeout(onDismiss, 3000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.dismissTimer);\n  }\n\n  render() {\n    const {\n      showing, bsStyle, onDismiss, children,\n    } = this.props;\n\n    return (\n      <Collapse in={showing}>\n        <div style={{\n          position: 'fixed',\n          bottom: 20,\n          left: 20,\n          zIndex: 10,\n        }}\n        >\n          <Alert bsStyle={bsStyle} onDismiss={onDismiss}>\n            {children}\n          </Alert>\n        </div>\n      </Collapse>\n    );\n  }\n}\n","import React from 'react';\n\nconst UserContext = React.createContext({ signedIn: false });\n\nexport default UserContext;\n","const colors = {\n  primary: '#282487',\n  status: {\n    New: '#ffe6b3',\n    Closed: '#ffc3b3',\n    Fixed: '#deffb3',\n    Assigned: '',\n  },\n};\n\nexport default colors;\n","import fetch from 'isomorphic-fetch';\n\n// JSON parser reviver function to parse date string as Date objects\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\nfunction jsonDateReviver(_, value) {\n  if (dateRegex.test(value)) return new Date(value);\n  return value;\n}\n\nexport default async function graphQLFetch(\n  query,\n  variables = {},\n  showError = null,\n  cookie = null,\n) {\n  /**\n   * Fetches list of issues from the server.\n   * Displays errors based on the result.\n   * Returns the fetched issue list.\n   * Params - query: String, GraphQL query string,\n   *          variables: <Object>, GraphqQL query variables\n   *          showError: Func from Toast\n   */\n\n  // __isBrowser__ constant formed at Webpack bundling process\n  // eslint-disable-next-line no-undef\n  const apiEndpoint = __isBrowser__\n    ? window.ENV.UI_API_ENDPOINT\n    : process.env.UI_API_ENDPOINT;\n\n  try {\n    const headers = new Headers({\n      'Content-type': 'application/json',\n    });\n    if (cookie) headers.append('Cookie', cookie);\n    const response = await fetch(apiEndpoint, {\n      method: 'POST',\n      credentials: 'include',\n      headers,\n      body: JSON.stringify({\n        query,\n        variables,\n      }),\n    });\n\n    // to handle the Date, the response is parsed as json text\n    // rather than a json object, here body is a string of json data\n    // JSON.parse(JsonString, ...)\n    const body = await response.text();\n    const result = JSON.parse(body, jsonDateReviver);\n\n    if (result.errors) {\n      const error = result.errors[0];\n      if (error.extensions.code === 'BAD_USER_INPUT') {\n        const details = error.extensions.exception.errors.join('\\n ');\n        if (showError) showError(`${error.message}:\\n ${details}`);\n      } else if (showError) {\n        showError(`${error.extensions.code}: ${error.message}`);\n      }\n    }\n    return result.data;\n  } catch (e) {\n    // cathing the transport error\n    if (showError) showError(`Error in sending data to server: ${e.message}`);\n    return null;\n  }\n}\n","import IssueListWithToast from './IssueList.jsx';\nimport IssueReportWithToast from './IssueReport.jsx';\nimport IssueEditWithToast from './IssueEdit.jsx';\nimport About from './About.jsx';\nimport NotFound from './NotFound.jsx';\n\nconst routes = [\n  { path: '/issues/:id?', component: IssueListWithToast },\n  { path: '/edit/:id', component: IssueEditWithToast },\n  { path: '/report', component: IssueReportWithToast },\n  { path: '/about', component: About },\n  { path: '*', component: NotFound },\n];\n\nexport default routes;\n","const store = {};\n\nexport default store;\n","import React from 'react';\nimport Toast from './Toast.jsx';\n\nexport default function withToast(OriginalComponent) {\n  /**\n   * Wraps the OriginalComponent with a Toast.\n   * Holds the required logic for the Toast component\n   */\n  return class ToastWrapper extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        toastVisible: false,\n        toastMessage: '',\n        toastType: 'success',\n      };\n      this.showError = this.showError.bind(this);\n      this.showSuccess = this.showSuccess.bind(this);\n      this.dismissToast = this.dismissToast.bind(this);\n    }\n\n    showSuccess(message) {\n      this.setState({\n        toastVisible: true,\n        toastMessage: message,\n        toastType: 'success',\n      });\n    }\n\n    showError(message) {\n      this.setState({\n        toastVisible: true,\n        toastMessage: message,\n        toastType: 'danger',\n      });\n    }\n\n    dismissToast() {\n      this.setState({ toastVisible: false });\n    }\n\n    render() {\n      const { toastType, toastMessage, toastVisible } = this.state;\n      return (\n        <React.Fragment>\n          <OriginalComponent\n            showError={this.showError}\n            showSuccess={this.showSuccess}\n            {...this.props}\n          />\n          <Toast\n            bsStyle={toastType}\n            showing={toastVisible}\n            onDismiss={this.dismissToast}\n          >\n            {toastMessage}\n          </Toast>\n        </React.Fragment>\n      );\n    }\n  };\n}\n","const path = require('path');\nconst nodeExternals = require('webpack-node-externals');\nconst webpack = require('webpack');\n\nconst browserConfig = {\n  mode: 'development',\n  entry: { app: ['./browser/App.jsx'] },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'public'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              [\n                '@babel/preset-env',\n                {\n                  targets: {\n                    ie: '11',\n                    edge: '15',\n                    safari: '10',\n                    firefox: '50',\n                    chrome: '49',\n                  },\n                },\n              ],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n    ],\n  },\n  optimization: {\n    splitChunks: {\n      name: 'vendor',\n      chunks: 'all',\n    },\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'true',\n    }),\n  ],\n  devtool: 'source-map',\n};\n\nconst serverConfig = {\n  mode: 'development',\n  entry: { server: ['./server/uiserver.js'] },\n  target: 'node',\n  externals: [nodeExternals()],\n  output: {\n    filename: 'server.js',\n    path: path.resolve(__dirname, 'dist'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              [\n                '@babel/preset-env',\n                {\n                  targets: { node: '14' },\n                },\n              ],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      },\n    ],\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'false',\n    }),\n  ],\n  devtool: 'source-map',\n};\n\nmodule.exports = [browserConfig, serverConfig];\n","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"http-proxy-middleware\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-bootstrap\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-select/async\");","module.exports = require(\"serialize-javascript\");","module.exports = require(\"url-search-params-polyfill\");","module.exports = require(\"uuid\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","module.exports = require(\"webpack-node-externals\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import dotenv from 'dotenv';\nimport express from 'express';\nimport createProxyMiddleware from 'http-proxy-middleware';\nimport render from './render.jsx';\n\ndotenv.config();\n\nconst app = express();\n\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n}\n\nif (!process.env.UI_AUTH_ENDPOINT) {\n  process.env.UI_AUTH_ENDPOINT = 'http://localhost:3000/auth';\n}\n\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\n\nconst port = process.env.UI_SERVER_PORT || 8000;\n\nconst enableHMR = process.env.ENABLE_HMR === 'true';\n\n// ----- Hot module replacement in dev mode --------------\n\nif (enableHMR && process.env.NODE_ENV !== 'production') {\n  console.log('Adding dev middleware, enabling HMR');\n\n  /* eslint \"global-require\": \"off\" */\n  /* eslint \"import/no-extraneous-dependencies\": \"off\" */\n  const webpack = require('webpack');\n  const devMiddleware = require('webpack-dev-middleware');\n  const hotMiddleware = require('webpack-hot-middleware');\n\n  const config = require('../webpack.config.js')[0];\n  config.entry.app.push('webpack-hot-middleware/client');\n  config.plugins = config.plugins || [];\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n\n  const compiler = webpack(config);\n  app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\n// ------ route handlers and middlewares --------------\n\napp.use(express.static('public'));\n\nif (apiProxyTarget) {\n  app.use('/graphql', createProxyMiddleware({\n    target: process.env.API_PROXY_TARGET,\n  }));\n  app.use('/auth', createProxyMiddleware({\n    target: process.env.API_PROXY_TARGET,\n  }));\n}\n\napp.get('/env.js', (_, res) => {\n  const env = {\n    UI_API_ENDPOINT: process.env.UI_API_ENDPOINT,\n    UI_AUTH_ENDPOINT: process.env.UI_AUTH_ENDPOINT,\n  };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\n\napp.get('*', (req, res, next) => {\n  render(req, res, next);\n});\n\napp.listen(port, () => {\n  console.log(`UI started on port ${port}`);\n});\n\nif (module.hot) {\n  module.hot.accept('./render.jsx');\n}\n"],"names":["React","ReactDOMServer","StaticRouter","matchPath","template","Page","routes","store","render","req","res","activeRoute","find","route","path","initialData","component","fetchData","match","index","indexOf","search","substr","userData","headers","cookie","context","element","url","body","renderToString","redirect","send","serialize","graphQLFetch","About","Component","data","constructor","props","apiAbout","about","state","componentDidMount","setState","Route","Switch","Redirect","Contents","map","attrs","editFormat","date","toISOString","displayFormat","toDateString","unformat","dateStr","val","Date","Number","isNaN","getTime","DateInput","value","focus","valid","onFocus","bind","onBlur","onChange","e","target","oldValid","onValidityChange","dateValue","origValue","inputVal","withRouter","NavItem","Glyphicon","Modal","Form","FormGroup","FormControl","ControlLabel","Button","ButtonToolbar","Tooltip","OverlayTrigger","withToast","IssueAddNavItem","showing","showModal","hideModal","handleSubmit","preventDefault","form","document","forms","issueAdd","issue","owner","title","due","description","query","showError","history","push","id","user","signedIn","IssueDetail","Link","LinkContainer","Col","Panel","Alert","NumInput","TextInput","UserContext","IssueEdit","params","result","invalidFields","showingValidation","loadData","componentDidUpdate","prevProps","prevId","name","prevState","naturalValue","textValue","undefined","showValidation","Object","keys","length","created","changes","showSuccess","issueUpdate","dismissValidation","propsId","validationMessage","signinInfoStyle","display","alignItems","marginBottom","color","margin","status","effort","contextType","IssueEditWithToast","InputGroup","Row","IssueFilter","location","URLSearchParams","get","changed","effortMin","effortMax","onChangeStatus","onChangeEffortMin","onChangeEffortMax","applyFilter","showOriginalFilter","effortString","set","urlBase","pathname","toString","Pagination","IssueTable","SECTION_SIZE","PageLink","page","activePage","children","cloneElement","disabled","IssueList","vars","hasSelection","selectedId","idInt","parseInt","issueList","issues","pages","selectedIssue","open","closeIssue","deleteIssue","togglePanel","prevSearch","componentWillUnmount","newList","restoreIssue","issueDelete","splice","undoMessage","startPage","Math","floor","endPage","prevSection","nextSection","items","i","min","infoStyle","justifyContent","IssueListWithToast","v4","uuidv4","Table","statuses","IssueReport","stats","issueCounts","headerColumns","statRows","counts","IssueReportWithToast","colors","IssueRowPlain","onClose","onDelete","closeTooltip","deleteTooltip","editTooltip","statusStyle","backgroundColor","paddingTop","paddingBottom","borderRadius","tableRow","selectedLocation","IssueRow","issueRows","Navbar","Nav","NavDropdown","MenuItem","Search","SignInNavItem","NavBar","onUserChange","fontWeight","NotFound","format","num","str","Grid","AsyncSelect","colourStyles","control","styles","borderColor","cursor","input","placeholder","PlaceholderComp","loadOptions","handleChange","inputValue","callback","options","label","option","DropdownIndicator","fetch","HelpBlock","pswd","showingModal","loginErrMsg","signIn","signOut","validateUsername","username","authEndpoint","window","ENV","UI_AUTH_ENDPOINT","response","method","credentials","JSON","stringify","text","parse","error","len","signInDisable","trim","tag","createElement","Collapse","Toast","onDismiss","dismissTimer","setTimeout","clearTimeout","bsStyle","position","bottom","left","zIndex","createContext","primary","New","Closed","Fixed","Assigned","dateRegex","RegExp","jsonDateReviver","_","test","variables","apiEndpoint","__isBrowser__","UI_API_ENDPOINT","process","env","Headers","append","errors","extensions","code","details","exception","join","message","OriginalComponent","ToastWrapper","toastVisible","toastMessage","toastType","dismissToast","require","nodeExternals","webpack","browserConfig","mode","entry","app","output","filename","resolve","__dirname","publicPath","module","rules","exclude","use","loader","presets","targets","ie","edge","safari","firefox","chrome","optimization","splitChunks","chunks","plugins","DefinePlugin","devtool","serverConfig","server","externals","node","exports","dotenv","express","createProxyMiddleware","config","apiProxyTarget","API_PROXY_TARGET","port","UI_SERVER_PORT","enableHMR","ENABLE_HMR","NODE_ENV","console","log","devMiddleware","hotMiddleware","HotModuleReplacementPlugin","compiler","static","next","listen","hot","accept"],"sourceRoot":""}